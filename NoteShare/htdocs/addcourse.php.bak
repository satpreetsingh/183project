<?php
/*-----------------------------------------------------------------------------
 File:         addcourse.php
 Description:  An example mockup of how the Add Course dialog could look.
 UseCases:     <Later>
 Requirements: <Later>
 Components:   <Later>
-------------------------------------------------------------------------------
 Last Modified: N.Fritze
 Modified On:   10/07/09
 Notes:         Quick initial creation of add course page.  Used for an
                example of FBML, a little Facebook API, and a little php.
-----------------------------------------------------------------------------*/

require_once '../php/facebook.php';
require_once './controllers/sessionController.php';
require_once './controllers/addcourseController.php';

// Begin with a link back to the index page
//   When using quotes within an echo line...you need the escape character \
//   before the quote (see below)
echo "<a href=\"index.php\">Back to Main Page</a>";

?>

<!--------------------------- Actual Page Content ----------------------------->
<br>
<br>
<H1>Add A Course</H1>
<br>
<br>

<span style="display:none"><fb:editor action=""></fb:editor></span>

<form action="" method=""><table class="editorkit" border="0" cellspacing="0" style="width:425px"><tr class="width_setter"><th style="width:75px"></th><td></td></tr> 
  <tr><th class="detached_label"><label>University:</label></th><td class="editorkit_row"> 
    <select name="university" id="universityID"
    onchange="do_ajax(Ajax.JSON); return false;">
      <option value="NONE" selected=""></option>
      <option value="NEW">(Add new...)</option>
      <option value="uiowa">UIowa</option>
      <option value="uni">UNI</option>
      <option value="purdue">Purdue</option>
      <option value="isu">ISU</option>
    </select>
  </td><td class="right_padding"></td></tr>
  </table>
</form>

<div id="ajax1" style="background-color: #FFFF00;"><br></div>
<div id="ajax2" style="background-color: #00FFFF;"><br></div>
<div id="debugOutput" style="background-color: #00FF00;"><br></div>

    <script>
      <!--
      function do_ajax(type) {
        var selected = document.getElementById("universityID").getValue();
        document.getElementById( 'debugOutput').setTextValue( selected );

        var ajax = new Ajax();
        ajax.responseType = type;
        ajax.post('http://noteshare.homelinux.net/dataAbstractionLayer.php?t='+type+'&value='+selected);

        switch (type)
        { case Ajax.JSON: ajax.ondone = function(data) {
            document.getElementById('ajax1').setTextValue(data.message + ' The current time is: ' + data.time + '. ');
            document.getElementById('ajax2').setInnerFBML(data.fbml_test);
            }
            break;

          case Ajax.FBML: ajax.ondone = function(data) {
            document.getElementById('ajax1').setInnerFBML(data);
            document.getElementById('ajax2').setTextValue('');
          }
          break;

          case Ajax.RAW: ajax.ondone = function(data) {
            document.getElementById('ajax1').setTextValue(data);
            document.getElementById('ajax2').setTextValue('');
          }
          break;
        }
      }
      //-->
    </script> 
<br>

